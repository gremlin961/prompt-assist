<!DOCTYPE html>
<html>
<head>
    <title>Model Comparison and Prompt Enrichment Tool</title>
    <link rel="stylesheet" type="text/css" href="/static/styles.css" />
</head>
<body>

<h1>Model Comparison and Prompt Enrichment Tool</h1>
<h2>Original Prompt and context: </h2>

<div id="div1">
    <form action="/output" method="POST">
        Context:
        <br>
        <textarea type="text" name="context" value='{{results.context}}' class="large-input">{{results.context}}</textarea>
        <br>
        <br>
        Prompt:
        <br>
        <textarea type="text" name="prompt" value='{{results.prompt}}' class="large-input">{{results.prompt}}</textarea>
        <br>
        <br> 
        Enriched Prompt:
        <br>
        <textarea type="text" name="enrich_data" value='{{enrich_data}}' class="large-input">{{enrich_data}}</textarea>
        <br>
        <br>
        Explanation: 
        <br>
        {{ compare_data }}
        <br>
        <br>
        Select the model to use for comparison
        <br>
        <label for="model_type">Model type:</label>
        <select name="model_type" id="model_type">
            <option value="text-bison">Text-Bison</option>
            <option value="text-unicorn">Text-Unicorn</option>
            <option value="text-bison-32k">Text-Bison-32k</option>
            <option value="text-bison@001">Text-Bison v001</option>
            <option value="gemini-pro">Gemini-Pro</option>
        </select>
        <br>
        <br>
        <input type="submit" id="submit" value="Submit"> 
    </form>
    <br>
    <br>
        <a href="/">
            <button>Back</button>
        </a>
</div>

<div id="div2" style="display: none;">
    <form method="post">
        <b><i>Processing, please wait...</i></b>
        <br>
        <!--<img src="/static/loading.png" alt="Loading..." />-->
</div>

<script>
    const toggleButton = document.getElementById("submit");
    const div1 = document.getElementById("div1");
    const div2 = document.getElementById("div2");

    toggleButton.addEventListener("click", () => {
        if (div1.style.display === "none") {
        div1.style.display = "block";
        div2.style.display = "none";
        } else {
        div1.style.display = "none";
        div2.style.display = "block";

        // Submit the form after toggling the divs
        document.querySelector("form").submit();
        }
    });
</script>
</body>
</html>
